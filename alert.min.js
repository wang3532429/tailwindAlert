document.addEventListener("DOMContentLoaded",function(){const e=document.createElement("style");e.textContent=".alert-enter{opacity:0;transform:translateY(-10px)}.alert-enter-active{opacity:1;transform:translateY(0);transition:opacity 200ms ease-out,transform 200ms ease-out}.alert-exit{opacity:1}.alert-exit-active{opacity:0;transform:translateY(-10px);transition:opacity 200ms ease-out,transform 200ms ease-out}.modal-overlay{opacity:0;transition:opacity 200ms ease-out}.modal-overlay-active{opacity:1}.modal-container{opacity:0;transform:translateY(-20px);transition:opacity 200ms ease-out,transform 200ms ease-out}.modal-container-active{opacity:1;transform:translateY(0)}",document.head.appendChild(e);const t=document.createElement("div");t.id="alertContainer",t.className="fixed z-50 space-y-3 w-80",document.body.appendChild(t);const n=document.createElement("div");n.id="modalContainer",document.body.appendChild(n),document.querySelector('script[src*="tailwindcss"]')||console.warn('Alert组件依赖Tailwind CSS，建议添加: <script src="https://cdn.tailwindcss.com"></script>')});const alertTypes={success:{icon:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>',bgColor:"bg-[#fdfcf8]",textColor:"text-green-600",borderColor:"border-l border-green-500",iconColor:"text-green-500"},warning:{icon:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>',bgColor:"bg-[#fdfcf8]",textColor:"text-orange-600",borderColor:"border-l border-orange-500",iconColor:"text-orange-500"},error:{icon:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',bgColor:"bg-[#fdfcf8]",textColor:"text-red-600",borderColor:"border-l border-red-500",iconColor:"text-red-500"},info:{icon:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',bgColor:"bg-[#fdfcf8]",textColor:"text-blue-600",borderColor:"border-l border-blue-500",iconColor:"text-blue-500"}};function showAlert(e,t,n={}){const{position:o="top-right",duration:r=3e3}=n,s=document.getElementById("alertContainer"),a={"top-right":"top-4 right-4","top-left":"top-4 left-4","bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-center":"top-4 left-1/2 -translate-x-1/2","bottom-center":"bottom-4 left-1/2 -translate-x-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",top:"top-4 left-1/2 -translate-x-1/2"};s.className=`fixed z-50 space-y-3 w-80 ${a[o]||a["top-right"]}`;const i=alertTypes[e]||alertTypes.info,l=s.children;l.length>=3&&closeAlert(l[0]);const c=document.createElement("div");return c.className=`alert-enter flex items-center p-3 rounded-md shadow-sm ${i.bgColor} ${i.textColor} ${i.borderColor}`,c.innerHTML=`<div class="flex-shrink-0 ${i.iconColor}">${i.icon}</div><div class="ml-2 text-sm font-medium">${t}</div><button class="ml-auto -mx-1.5 -my-1.5 rounded-lg p-1 hover:bg-gray-200 transition-colors duration-150"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button>`,c.querySelector("button").addEventListener("click",function(){closeAlert(c)}),s.appendChild(c),requestAnimationFrame(()=>{c.classList.remove("alert-enter"),c.classList.add("alert-enter-active")}),r>0&&setTimeout(()=>closeAlert(c),r),c}function closeAlert(e){e&&!e.classList.contains("alert-exit")&&(e.classList.add("alert-exit","alert-exit-active"),setTimeout(()=>{e&&e.parentNode&&e.parentNode.removeChild(e)},200))}function showModal(e){const t={title:"提示",content:"",buttons:[{text:"确定",type:"primary",callback:null}],type:"info"},n={...t,...e},o=alertTypes[n.type]||alertTypes.info,r=document.getElementById("modalContainer");if(!r)return null;r.innerHTML="";const s=document.createElement("div");s.className="modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center";const a=document.createElement("div");a.className="modal-container bg-[#fdfcf8] rounded-md shadow-sm max-w-md mx-auto overflow-hidden";const i=document.createElement("div");i.className="flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",i.innerHTML=`<div class="flex items-center"><div class="flex-shrink-0 text-gray-500">${o.icon}</div><h3 class="ml-2 text-base font-medium text-gray-900">${n.title}</h3></div><button class="rounded-lg p-1 hover:bg-gray-200 transition-colors duration-150"><svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button>`;const l=document.createElement("div");l.className="p-4 text-gray-700",l.innerHTML=n.content;const c=document.createElement("div");function d(){s.classList.remove("modal-overlay-active"),a.classList.remove("modal-container-active"),setTimeout(()=>{r.contains(s)&&r.removeChild(s)},200)}return c.className="flex justify-end p-3 space-x-2",n.buttons.forEach(e=>{const t=document.createElement("button");let n="px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150 ";switch(e.type){case"success":case"primary":n+="bg-blue-600 text-white hover:bg-blue-700";break;case"danger":case"warning":n+="bg-red-500 text-white hover:bg-red-600";break;default:n+="bg-gray-400 text-white hover:bg-gray-500"}t.className=n,t.textContent=e.text,t.addEventListener("click",()=>{"function"==typeof e.callback&&e.callback(),d()}),c.appendChild(t)}),a.appendChild(i),a.appendChild(l),a.appendChild(c),s.appendChild(a),r.appendChild(s),i.querySelector("button").addEventListener("click",d),s.addEventListener("click",e=>{e.target===s&&d()}),requestAnimationFrame(()=>{s.classList.add("modal-overlay-active"),a.classList.add("modal-container-active")}),{close:d}}const msg={show(e,t,n={}){const{duration:o=2e3}=n,r=document.querySelector(".msg-container");r&&r.remove();const s=document.createElement("div");s.className="fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center px-4 py-2 rounded-lg shadow-lg bg-gray-800 text-white msg-container opacity-0 transform scale-95 transition-all duration-300";const a={success:'<svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>',warning:'<svg class="w-5 h-5 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>',error:'<svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'};let i="";"text"!==e&&a[e]&&(i=`<div class="flex-shrink-0">${a[e]}</div>`),s.innerHTML=`${i}<div class="${i?"ml-3":""} text-sm font-medium">${t}</div>`,document.body.appendChild(s),requestAnimationFrame(()=>{s.classList.remove("opacity-0","scale-95")}),setTimeout(()=>{s.classList.add("opacity-0","scale-95"),setTimeout(()=>s.remove(),300)},o)},success(e,t={}){this.show("success",e,t)},warning(e,t={}){this.show("warning",e,t)},error(e,t={}){this.show("error",e,t)},text(e,t={}){this.show("text",e,t)}};window.msg=msg;const tips={init(){document.querySelectorAll("[data-tips]").forEach(e=>{const t=e.dataset.tipsTrigger||"hover";"hover"===t?e.addEventListener("mouseenter",e=>{showTipsHandler(e.target)}):"click"===t&&(e.addEventListener("click",e=>{showTipsHandler(e.target),e.stopPropagation()}),document.addEventListener("click",()=>{const e=document.querySelector(".tips-container");e&&e.remove()}))})}};function showTipsHandler(e){const t=e.dataset.tips,n=e.dataset.tipsPlacement||"top",o=e.dataset.tipsArrow||"center",r="true"===e.dataset.tipsDark;showTips(t,n,o,r,e)}function showTips(e,t="top",n="center",o=!1,r){const s=document.querySelector(".tips-container");s&&s.remove();const a=document.createElement("div");a.className=`fixed z-50 px-3 py-2 text-sm rounded-lg transition-opacity duration-300 opacity-0 tips-container ${o?"bg-gray-800 text-white":"bg-white text-gray-700 border border-gray-200 shadow-sm"}`,a.textContent=e;const i=document.createElement("div");i.className=`absolute w-3 h-3 transform rotate-45 ${o?"bg-gray-800":"bg-white border border-gray-200"}`,a.appendChild(i),document.body.appendChild(a);const l=r.getBoundingClientRect(),c=a.getBoundingClientRect();let d,p;switch(t){case"top":d=l.top-c.height-8,p=l.left+(l.width-c.width)/2,i.className=`absolute w-3 h-3 transform rotate-45 ${o?"bg-gray-800":"bg-white border border-gray-200"} -bottom-1.5 border-t-0 border-l-0`,"start"===n?(p=l.left+16,i.style.left="16px"):"center"===n?(i.style.left="50%",i.style.transform="translateX(-50%) rotate(45deg)"):(p=l.right-c.width-16,i.style.right="16px");break;case"bottom":d=l.bottom+8,p=l.left+(l.width-c.width)/2,i.className=`absolute w-3 h-3 transform rotate-45 ${o?"bg-gray-800":"bg-white border border-gray-200"} -top-1.5 border-b-0 border-r-0`,"start"===n?(p=l.left+16,i.style.left="16px"):"center"===n?(i.style.left="50%",i.style.transform="translateX(-50%) rotate(45deg)"):(p=l.right-c.width-16,i.style.right="16px");break;case"left":d=l.top+(l.height-c.height)/2,p=l.left-c.width-8,i.className=`absolute w-3 h-3 transform rotate-45 ${o?"bg-gray-800":"bg-white border border-gray-200"} -right-1.5 border-l-0 border-b-0`,"start"===n?(d=l.top+16,i.style.top="16px"):"center"===n?(i.style.top="50%",i.style.transform="translateY(-50%) rotate(45deg)"):(d=l.bottom-c.height-16,i.style.bottom="16px");break;case"right":d=l.top+(l.height-c.height)/2,p=l.right+8,i.className=`absolute w-3 h-3 transform rotate-45 ${o?"bg-gray-800":"bg-white border border-gray-200"} -left-1.5 border-t-0 border-r-0`,"start"===n?(d=l.top+16,i.style.top="16px"):"center"===n?(i.style.top="50%",i.style.transform="translateY(-50%) rotate(45deg)"):(d=l.bottom-c.height-16,i.style.bottom="16px")}a.style.top=`${d}px`,a.style.left=`${p}px`,requestAnimationFrame(()=>{a.style.opacity="1"}),r.addEventListener("mouseleave",()=>{a.style.opacity="0",setTimeout(()=>a.remove(),300)},{once:!0})}document.addEventListener("DOMContentLoaded",()=>{tips.init()}),window.tips=tips;